# Business & Code Analyzer

> –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–∞: –∞–Ω–∞–ª–∏–∑ –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª–∏ + –∫–æ–¥ + gap detection

## –ß—Ç–æ —ç—Ç–æ?

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è–º –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º:

1. **–ü–æ–Ω—è—Ç—å —Å–≤–æ–π –±–∏–∑–Ω–µ—Å** ‚Äî —á–µ—Ä–µ–∑ Business Model Canvas (9 –±–ª–æ–∫–æ–≤)
2. **–û—Ü–µ–Ω–∏—Ç—å –∫–æ–¥/–ø—Ä–æ–¥—É–∫—Ç** ‚Äî tech stack, –ø—Ä–æ–±–ª–µ–º—ã, —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
3. **–ù–∞–π—Ç–∏ —Ä–∞–∑—Ä—ã–≤—ã** ‚Äî –º–µ–∂–¥—É –±–∏–∑–Ω–µ—Å-—Ü–µ–ª—è–º–∏ –∏ —Ä–µ–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–æ–¥—É–∫—Ç–∞
4. **–ü–æ–ª—É—á–∏—Ç—å –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π** ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –Ω–µ–¥–µ–ª—é

## –†–µ–∂–∏–º—ã –∞–Ω–∞–ª–∏–∑–∞

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-------|----------|--------|
| **–†–∞–∑–±–æ—Ä –±–∏–∑–Ω–µ—Å–∞** | Business Canvas + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ | ‚úÖ –ì–æ—Ç–æ–≤ |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞** | Tech analysis + –∑–∞–¥–∞—á–∏ | ‚úÖ –ì–æ—Ç–æ–≤ |
| **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏** | Competitor analysis | üîú –°–∫–æ—Ä–æ |
| **–ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞** | –ë–∏–∑–Ω–µ—Å + –ö–æ–¥ + Gap Detection | üîú –°–∫–æ—Ä–æ |

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–Ω–∞–ª–∏–∑ –±–∏–∑–Ω–µ—Å–∞ (NEW)
- **Business Model Canvas** ‚Äî 9 –±–ª–æ–∫–æ–≤ –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª–∏
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞–¥–∏–∏** ‚Äî idea / building / early_traction / growing / scaling
- **–ü—Ä–æ–±–µ–ª—ã –≤ –º–æ–¥–µ–ª–∏** ‚Äî —á—Ç–æ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ
- **–£—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã** ‚Äî –µ—Å–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
- **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚Äî PDF, DOCX, MD, TXT (–±–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω—ã, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏)
- **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏** ‚Äî Instagram, LinkedIn, Twitter, Website

### –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
- **GitHub URL** ‚Äî –ø—É–±–ª–∏—á–Ω—ã–µ + –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤** ‚Äî drag & drop, ZIP-–∞—Ä—Ö–∏–≤—ã
- **Smart file selection** ‚Äî —É–º–Ω—ã–π –æ—Ç–±–æ—Ä –¥–æ 50K —Ç–æ–∫–µ–Ω–æ–≤
- **Tech stack detection** ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á** ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ –Ω–∞ –Ω–µ–¥–µ–ª—é
- **Follow-up —á–∞—Ç** ‚Äî SSE streaming, –∏—Å—Ç–æ—Ä–∏—è

### –û–±—â–µ–µ
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π + —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫—ç—à
- **–≠–∫—Å–ø–æ—Ä—Ç** ‚Äî JSON –∏ Markdown
- **GitHub Dark —Ç–µ–º–∞** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI
- **68 unit —Ç–µ—Å—Ç–æ–≤** ‚Äî Vitest

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
git clone https://github.com/hosjpps/business_analyst.git
cd business_analyst

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env.local
# –î–æ–±–∞–≤–∏—Ç—å OPENROUTER_API_KEY –≤ .env.local

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
npm run dev
```

–û—Ç–∫—Ä—ã—Ç—å http://localhost:3000

## Environment Variables

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
OPENROUTER_API_KEY=sk-or-v1-xxxxx

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–ø–æ)
GITHUB_TOKEN=ghp_xxxxx
```

## API Endpoints

| Method | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|----------|
| POST | `/api/analyze` | –ê–Ω–∞–ª–∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è |
| POST | `/api/analyze-business` | –ê–Ω–∞–ª–∏–∑ –±–∏–∑–Ω–µ—Å–∞ ‚Üí Canvas |
| POST | `/api/chat` | Follow-up –≤–æ–ø—Ä–æ—Å—ã |
| POST | `/api/chat/stream` | Streaming —á–∞—Ç (SSE) |
| GET | `/api/commit-sha` | –ü–æ–ª—É—á–∏—Ç—å SHA –∫–æ–º–º–∏—Ç–∞ |

### POST /api/analyze-business

```bash
curl -X POST http://localhost:3000/api/analyze-business \
  -H "Content-Type: application/json" \
  -d '{
    "description": "–°–µ—Ä–≤–∏—Å –¥–æ—Å—Ç–∞–≤–∫–∏ –µ–¥—ã –≤ –ú–æ—Å–∫–≤–µ. B2C –º–æ–¥–µ–ª—å, –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –Ω–∞ –∫–æ–º–∏—Å—Å–∏–∏ —Å —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ (15%). –ö—É—Ä—å–µ—Ä—ã –Ω–∞ –∞—É—Ç—Å–æ—Ä—Å–µ. –¶–µ–ª—å - –≤—ã–π—Ç–∏ –Ω–∞ 1000 –∑–∞–∫–∞–∑–æ–≤ –≤ –¥–µ–Ω—å.",
    "social_links": {
      "website": "https://example.com",
      "instagram": "https://instagram.com/example"
    }
  }'
```

**Response:**
```json
{
  "success": true,
  "canvas": {
    "customer_segments": ["B2C –∫–ª–∏–µ–Ω—Ç—ã –≤ –ú–æ—Å–∫–≤–µ"],
    "value_proposition": "–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –µ–¥—ã",
    "channels": ["–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ", "Instagram"],
    "customer_relationships": "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å",
    "revenue_streams": ["–ö–æ–º–∏—Å—Å–∏—è 15% —Å —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤"],
    "key_resources": ["–ö—É—Ä—å–µ—Ä—ã", "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"],
    "key_activities": ["–õ–æ–≥–∏—Å—Ç–∏–∫–∞", "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥"],
    "key_partners": ["–†–µ—Å—Ç–æ—Ä–∞–Ω—ã", "–ö—É—Ä—å–µ—Ä—Å–∫–∏–µ —Å–ª—É–∂–±—ã"],
    "cost_structure": ["–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥", "–ó–∞—Ä–ø–ª–∞—Ç—ã", "–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞"]
  },
  "business_stage": "early_traction",
  "gaps_in_model": ["–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —É–¥–µ—Ä–∂–∞–Ω–∏—è"],
  "recommendations": [...]
}
```

### POST /api/analyze

```bash
curl -X POST http://localhost:3000/api/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "repo_url": "https://github.com/username/repo",
    "project_description": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"
  }'
```

## –õ–∏–º–∏—Ç—ã

| –†–µ—Å—É—Ä—Å | –õ–∏–º–∏—Ç |
|--------|-------|
| –§–∞–π–ª—ã | –¥–æ 1MB –∫–∞–∂–¥—ã–π |
| ZIP-–∞—Ä—Ö–∏–≤—ã | –¥–æ 5MB |
| –î–æ–∫—É–º–µ–Ω—Ç—ã (PDF, DOCX) | –¥–æ 5MB, 200 —Å—Ç—Ä–∞–Ω–∏—Ü |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ | –¥–æ 200 |
| Rate limit | 5 req/min |

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Framework:** Next.js 14 (App Router)
- **LLM:** Claude —á–µ—Ä–µ–∑ OpenRouter
- **Validation:** Zod
- **GitHub API:** Octokit
- **PDF parsing:** pdf-parse
- **DOCX parsing:** mammoth
- **Testing:** Vitest
- **UI:** GitHub Dark theme

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyze/           # –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyze-business/  # –ê–Ω–∞–ª–∏–∑ –±–∏–∑–Ω–µ—Å–∞ (NEW)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chat/              # Follow-up —á–∞—Ç
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ forms/                 # –§–æ—Ä–º—ã –≤–≤–æ–¥–∞ (NEW)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AnalysisModeSelector.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BusinessInputForm.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ClarificationQuestions.tsx
‚îÇ   ‚îú‚îÄ‚îÄ results/               # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (NEW)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CanvasView.tsx
‚îÇ   ‚îî‚îÄ‚îÄ ...                    # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ business/              # –ë–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑ (NEW)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ document-parser.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prompts.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ canvas-builder.ts
‚îÇ   ‚îú‚îÄ‚îÄ llm/                   # LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ github/                # GitHub API
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îú‚îÄ‚îÄ business.ts            # –¢–∏–ø—ã –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑–∞ (NEW)
‚îÇ   ‚îú‚îÄ‚îÄ gaps.ts                # –¢–∏–ø—ã Gap Detection (NEW)
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îî‚îÄ‚îÄ __tests__/                 # Unit —Ç–µ—Å—Ç—ã
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
npm test

# –û–¥–∏–Ω —Ä–∞–∑ (CI)
npm run test:run

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:coverage

# Build check
npm run build
```

## Roadmap

- [x] –ê–Ω–∞–ª–∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (GitHub URL, —Ñ–∞–π–ª—ã, ZIP)
- [x] Follow-up —á–∞—Ç —Å streaming
- [x] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–ª–∏–µ–Ω—Ç + —Å–µ—Ä–≤–µ—Ä)
- [x] Business Canvas AI
- [ ] Gap Detector (–±–∏–∑–Ω–µ—Å vs –∫–æ–¥)
- [ ] Competitor Analysis
- [ ] Full Analysis mode
- [ ] Auth + Dashboard
- [ ] Weekly Reports

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –î–æ–∫—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| [CLAUDE.md](./CLAUDE.md) | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| [docs/api-spec.md](./docs/api-spec.md) | API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è |
| [docs/data-models.md](./docs/data-models.md) | –¢–∏–ø—ã –∏ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö |
| [docs/ui-wireframes.md](./docs/ui-wireframes.md) | UI wireframes |

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
